$schema: http://json-schema.org/draft-07/schema#
title: OpenCode Agent Specification
description: Schema for validating agent YAML specifications

type: object
required:
  - name
  - mission
  - scope_of_work
  - io_contract
  - quality_bars

properties:
  name:
    type: string
    description: Agent name (must be PascalCase)
    pattern: ^[A-Z][a-zA-Z0-9]*$

  mission:
    type: string
    description: High-level purpose of the agent

  scope_of_work:
    type: array
    items:
      type: string
    description: Explicit list of responsibilities

  out_of_scope:
    type: array
    items:
      type: string
    description: Explicit list of things the agent does NOT do

  io_contract:
    type: object
    required:
      - inputs
      - outputs
    properties:
      inputs:
        type: array
        items:
          type: string
        description: Input files/artifacts required

      outputs:
        type: array
        items:
          type: string
        description: Output files/artifacts produced

  quality_bars:
    type: array
    items:
      type: string
    description: Minimum quality standards to meet

  playbook:
    type: array
    items:
      type: string
    description: Step-by-step playbook for the agent

  tools:
    type: array
    items:
      type: string
    description: Tools available to this agent

  guardrails:
    type: array
    items:
      type: string
    description: Safety constraints and prohibitions

  stop_conditions:
    type: array
    items:
      type: string
    description: Conditions that signal completion

additionalProperties: true
