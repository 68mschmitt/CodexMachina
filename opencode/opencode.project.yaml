version: 1
name: codexmachina-agents
description: OpenCode agentic repo for CodexMachina project

include_paths:
  - opencode

runtime:
  env:
    MAX_DIFF_LINES: 400
    DEFAULT_PRESET: strict
    PROJECT_NAME: codexmachina

  tools:
    repo.search: opencode/tools/repo_search.sh
    repo.edit: opencode/tools/repo_edit.sh
    repo.map: opencode/tools/repo_map.sh
    http.request: opencode/tools/http_request.sh
    diagram.mermaid: opencode/tools/diagram_mermaid.sh
    run.tests: ./scripts/test.sh
    run.lint: ./scripts/lint.sh
    run.format: ./scripts/format.sh
    run.build: ./scripts/build.sh
    git.branch: git branch
    git.commit: git commit
    git.pr: gh pr create

presets:
  - minimal
  - strict

agents:
  - Facilitator
  - Planner
  - Implementer
  - Reviewer
  - TestWriter
  - Architect
  - ConstraintsKeeper
  - DocWriter

workflows:
  - brainstorm_feature
  - plan_feature
  - code_feature
